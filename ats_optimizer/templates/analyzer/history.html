{% extends 'base/layout.html' %}
{% load static %}

{% block title %}History{% endblock %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-primary"><i class="bi bi-clock-history me-2"></i>History</h2>
            <p class="text-muted">View all previous analyses</p>
        </div>
        <a href="{% url 'analyzer:upload' %}" class="btn btn-primary">
            <i class="bi bi-plus me-2"></i>New Analysis
        </a>
    </div>

    {% if analyses %}
        <!-- Search -->
        <div class="row mb-3">
            <div class="col-md-6">
                <input type="text" class="form-control" placeholder="Search..." id="searchInput">
            </div>
            <div class="col-md-3">
                <select class="form-select" id="scoreFilter">
                    <option value="">All Scores</option>
                    <option value="high">80%+</option>
                    <option value="medium">60-79%</option>
                    <option value="low">&lt;60%</option>
                </select>
            </div>
        </div>

        {% include 'analyzer/components/analysis-table.html' %}
    {% else %}
        <!-- Empty State -->
        <div class="text-center py-5">
            <i class="bi bi-inbox display-1 text-muted mb-4"></i>
            <h4 class="text-muted">No analyses yet</h4>
            <a href="{% url 'analyzer:upload' %}" class="btn btn-primary btn-lg">
                <i class="bi bi-upload me-2"></i>Upload First Resume
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}
